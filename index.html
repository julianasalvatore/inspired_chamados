<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Support – Head Office Brazil</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
    font-family: Arial, sans-serif;
    max-width: 900px;
    margin: 30px auto;
    padding: 10px;
}
h2, h3 {
    margin-top: 25px;
}
label {
    display: block;
    margin: 6px 0;
}
select, textarea, input[type="text"], input[type="datetime-local"] {
    width: 100%;
    padding: 8px;
    margin-top: 6px;
}
button {
    margin-top: 20px;
    padding: 10px 18px;
    font-size: 16px;
    cursor: pointer;
}
.review {
    background: #f4f6f8;
    padding: 20px;
    border-radius: 8px;
    margin-top: 20px;
}
.hidden {
    display: none;
}
small {
    color: #555;
}
</style>
</head>

<body>

<h2>Support – Head Office Brazil</h2>

<form id="formChamado">

<!-- UNIDADE -->
<h3>Unidade</h3>
<select id="unidade" required>
<option value="">Selecione a unidade</option>
<option>Head Office Brazil</option>
<option>Os Batutinhas</option>
<option>Colegio Leonardo Da Vici</option>
<option>Eleva Botafogo</option>
<option>Eleva Urca</option>
<option>Eleva Barra da Tijuca</option>
<option>Eleva Recife</option>
<option>Eleva Brasilia</option>
<option>Eleva São Paulo</option>
<option>Guilandia federação</option>
<option>Gurilandia Pituba</option>
<option>Land School Federação</option>
<option>Land School Pituba</option>
</select>

<!-- TIPO DE SOLICITANTE -->
<h3>Solicitante</h3>
<label><input type="radio" name="tipoPessoa" value="Aluno"> Aluno</label>
<label><input type="radio" name="tipoPessoa" value="Colaborador"> Colaborador</label>

<div id="alunoCampos" class="hidden">
<label>Sala
<input type="text" id="salaAluno"></label>
<label>Turma
<input type="text" id="turmaAluno"></label>
</div>

<div id="colaboradorCampos" class="hidden">
<label>Setor
<input type="text" id="setorColab"></label>
<label>Sala
<input type="text" id="salaColab"></label>
</div>

<!-- EQUIPAMENTO -->
<h3>Equipamento / Solicitação</h3>
<div id="equipamentos">
<label><input type="radio" name="equipamento" value="Laptop / Notebook"> Laptop / Notebook</label>
<label><input type="radio" name="equipamento" value="Carregador de notebook"> Carregador de notebook</label>
<label><input type="radio" name="equipamento" value="Mouse"> Mouse</label>
<label><input type="radio" name="equipamento" value="Teclado"> Teclado</label>
<label><input type="radio" name="equipamento" value="Kit Mouse + Teclado"> Kit Mouse + Teclado</label>
<label><input type="radio" name="equipamento" value="Headset"> Headset</label>
<label><input type="radio" name="equipamento" value="Pilha AA - Média"> Pilha AA - Média</label>
<label><input type="radio" name="equipamento" value="Pilha AAA - Palito"> Pilha AAA - Palito</label>
<label><input type="radio" name="equipamento" value="Monitor"> Monitor</label>
<label><input type="radio" name="equipamento" value="Impressora"> Impressora</label>
<label><input type="radio" name="equipamento" value="Internet / Rede"> Internet / Rede</label>
<label><input type="radio" name="equipamento" value="Pacote Office"> Pacote Office</label>
<label><input type="radio" name="equipamento" value="Programa específico para o setor"> Programa específico para o setor</label>
<label><input type="radio" name="equipamento" value="Suporte para laptop / notebook"> Suporte para laptop / notebook</label>
</div>

<!-- PROBLEMAS -->
<div id="problemasArea" class="hidden">
<h3>Problema / Solicitação</h3>
<div id="problemas"></div>

<div id="eventoArea" class="hidden">
<label>Início do evento
<input type="datetime-local" id="eventoInicio"></label>
<label>Fim do evento
<input type="datetime-local" id="eventoFim"></label>
</div>
</div>

<h3>Descrição detalhada</h3>
<textarea id="descricao" rows="4" placeholder="Descreva o problema ou solicitação..."></textarea>

<button type="submit">Revisar chamado</button>
</form>

<!-- REVISÃO -->
<div id="revisao" class="review hidden">
<h3>Revisão do chamado</h3>

<p><strong>Unidade:</strong> <span id="revUnidade"></span></p>
<p><strong>Solicitante:</strong> <span id="revPessoa"></span></p>
<p><strong>Identificação:</strong><br><span id="revIdent"></span></p>
<p><strong>Equipamento:</strong> <span id="revEquip"></span></p>
<p><strong>Problema:</strong> <span id="revProb"></span></p>
<p><strong>Descrição:</strong><br><span id="revDesc"></span></p>

<button onclick="voltar()">Voltar</button>
<button onclick="enviarEmail()">Confirmar e abrir e-mail</button>
</div>

<script>
const problemasPorEquipamento = {
"Internet / Rede": [
    "Não consigo me conectar à rede CORP",
    "Não consigo me conectar à rede EE-Students",
    "Ativar Rede Eventos"
],
"Laptop / Notebook": [
    "Não liga",
    "Lento",
    "Tela azul",
    "Problema de bateria"
],
"Monitor": [
    "Sem imagem",
    "Imagem piscando",
    "Cabo com defeito"
],
"Impressora": [
    "Não imprime",
    "Atolamento de papel",
    "Sem conexão"
],
"Pacote Office": [
    "Instalação",
    "Ativação",
    "Erro de licença"
],
"Programa específico para o setor": [
    "Instalação",
    "Erro ao abrir",
    "Atualização necessária"
]
};

document.querySelectorAll('input[name="tipoPessoa"]').forEach(r => {
    r.addEventListener('change', () => {
        alunoCampos.classList.toggle("hidden", r.value !== "Aluno");
        colaboradorCampos.classList.toggle("hidden", r.value !== "Colaborador");
    });
});

document.querySelectorAll('input[name="equipamento"]').forEach(radio => {
    radio.addEventListener('change', () => {
        const area = document.getElementById("problemas");
        area.innerHTML = "";
        eventoArea.classList.add("hidden");

        const lista = problemasPorEquipamento[radio.value] || ["Solicitação de item"];

        lista.forEach(p => {
            area.innerHTML += `<label><input type="radio" name="problema" value="${p}"> ${p}</label>`;
        });

        document.getElementById("problemasArea").classList.remove("hidden");
    });
});

document.getElementById("problemas").addEventListener("change", e => {
    if (e.target.value === "Ativar Rede Eventos") {
        eventoArea.classList.remove("hidden");
    } else {
        eventoArea.classList.add("hidden");
    }
});

formChamado.addEventListener("submit", e => {
    e.preventDefault();

    const unidade = unidade.value;
    const pessoa = document.querySelector('input[name="tipoPessoa"]:checked');
    const equip = document.querySelector('input[name="equipamento"]:checked');
    const prob = document.querySelector('input[name="problema"]:checked');

    if (!unidade || !pessoa || !equip || !prob) {
        alert("Preencha todos os campos obrigatórios.");
        return;
    }

    let ident = "";
    if (pessoa.value === "Aluno") {
        ident = `Sala: ${salaAluno.value} | Turma: ${turmaAluno.value}`;
    } else {
        ident = `Setor: ${setorColab.value} | Sala: ${salaColab.value}`;
    }

    revUnidade.innerText = unidade;
    revPessoa.innerText = pessoa.value;
    revIdent.innerText = ident;
    revEquip.innerText = equip.value;
    revProb.innerText = prob.value;
    revDesc.innerText = descricao.value || "Não informado";

    formChamado.classList.add("hidden");
    revisao.classList.remove("hidden");
});

function voltar() {
    revisao.classList.add("hidden");
    formChamado.classList.remove("hidden");
}

function enviarEmail() {
    const subject = `${revUnidade.innerText} – ${revEquip.innerText}`;

    const body =
`Unidade: ${revUnidade.innerText}
Solicitante: ${revPessoa.innerText}
${revIdent.innerText}

Equipamento: ${revEquip.innerText}
Problema: ${revProb.innerText}

Descrição:
${revDesc.innerText}`;

    const link = "https://outlook.office.com/mail/deeplink/compose"
        + "?to=it.support@inspirededu.com"
        + "&subject=" + encodeURIComponent(subject)
        + "&body=" + encodeURIComponent(body);

    window.open(link, "_blank");
}
</script>

</body>
</html>
