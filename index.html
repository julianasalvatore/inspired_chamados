<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Support – Head Office Brazil</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
    font-family: Arial, sans-serif;
    max-width: 800px;
    margin: 30px auto;
    padding: 10px;
}
h2, h3 {
    margin-top: 25px;
}
label {
    display: block;
    margin: 6px 0;
}
select, textarea {
    width: 100%;
    padding: 8px;
    margin-top: 6px;
}
button {
    margin-top: 20px;
    padding: 10px 18px;
    font-size: 16px;
    cursor: pointer;
}
.review {
    background: #f4f6f8;
    padding: 20px;
    border-radius: 8px;
    margin-top: 20px;
}
.hidden {
    display: none;
}
</style>
</head>

<body>

<h2>Support – Head Office Brazil</h2>

<form id="formChamado">

<h3>Unidade</h3>
<select id="unidade" required>
<option value="">Selecione a unidade</option>
<option>Head Office Brazil</option>
<option>Os Batutinhas</option>
<option>Colegio Leonardo Da Vici</option>
<option>Eleva Botafogo</option>
<option>Eleva Urca</option>
<option>Eleva Barra da Tijuca</option>
<option>Eleva Recife</option>
<option>Eleva Brasilia</option>
<option>Eleva São Paulo</option>
<option>Guilandia federação</option>
<option>Gurilandia Pituba</option>
<option>Land School Federação</option>
<option>Land School Pituba</option>
</select>

<h3>Equipamento</h3>
<label><input type="radio" name="equipamento" value="Projetor"> Projetor</label>
<label><input type="radio" name="equipamento" value="Notebook / Laptop"> Notebook / Laptop</label>
<label><input type="radio" name="equipamento" value="Internet / Rede"> Internet / Rede</label>
<label><input type="radio" name="equipamento" value="Impressora"> Impressora</label>

<div id="problemasArea" class="hidden">
<h3>Problema identificado</h3>
<div id="problemas"></div>
</div>

<h3>Descrição detalhada</h3>
<textarea id="descricao" rows="4" placeholder="Descreva o problema com o máximo de detalhes possível..."></textarea>

<button type="submit">Revisar chamado</button>
</form>

<!-- ÁREA DE REVISÃO -->
<div id="revisao" class="review hidden">
<h3>Revisão do chamado</h3>

<p><strong>Unidade:</strong> <span id="revUnidade"></span></p>
<p><strong>Equipamento:</strong> <span id="revEquipamento"></span></p>
<p><strong>Problema:</strong> <span id="revProblema"></span></p>
<p><strong>Descrição:</strong><br><span id="revDescricao"></span></p>

<button onclick="voltar()">Voltar e corrigir</button>
<button onclick="enviarEmail()">Confirmar e abrir e-mail</button>
</div>

<script>
const problemasPorEquipamento = {
    "Projetor": [
        "Não liga",
        "Liga, mas não exibe imagem",
        "Não conecta ao computador",
        "Imagem distorcida ou fraca"
    ],
    "Notebook / Laptop": [
        "Não liga",
        "Muito lento",
        "Tela azul",
        "Problema de bateria"
    ],
    "Internet / Rede": [
        "Sem conexão",
        "Conexão instável",
        "Wi-Fi não aparece",
        "Cabo de rede não funciona"
    ],
    "Impressora": [
        "Não imprime",
        "Atolamento de papel",
        "Impressão falhada",
        "Não conecta à rede"
    ]
};

document.querySelectorAll('input[name="equipamento"]').forEach(radio => {
    radio.addEventListener('change', () => {
        const problemasDiv = document.getElementById("problemas");
        problemasDiv.innerHTML = "";

        problemasPorEquipamento[radio.value].forEach(p => {
            problemasDiv.innerHTML += `
                <label>
                    <input type="radio" name="problema" value="${p}">
                    ${p}
                </label>`;
        });

        document.getElementById("problemasArea").classList.remove("hidden");
    });
});

document.getElementById("formChamado").addEventListener("submit", e => {
    e.preventDefault();

    const unidade = document.getElementById("unidade").value;
    const equipamento = document.querySelector('input[name="equipamento"]:checked');
    const problema = document.querySelector('input[name="problema"]:checked');
    const descricao = document.getElementById("descricao").value;

    if (!unidade || !equipamento || !problema) {
        alert("Preencha todos os campos obrigatórios.");
        return;
    }

    document.getElementById("revUnidade").innerText = unidade;
    document.getElementById("revEquipamento").innerText = equipamento.value;
    document.getElementById("revProblema").innerText = problema.value;
    document.getElementById("revDescricao").innerText = descricao || "Não informado";

    document.getElementById("formChamado").classList.add("hidden");
    document.getElementById("revisao").classList.remove("hidden");
});

function voltar() {
    document.getElementById("revisao").classList.add("hidden");
    document.getElementById("formChamado").classList.remove("hidden");
}

function enviarEmail() {
    const unidade = document.getElementById("revUnidade").innerText;
    const equipamento = document.getElementById("revEquipamento").innerText;

    const subject = `${unidade} – ${equipamento}`;

    const body =
`Unidade: ${unidade}

Equipamento: ${equipamento}
Problema: ${document.getElementById("revProblema").innerText}

Descrição detalhada:
${document.getElementById("revDescricao").innerText}`;

    const link = "https://outlook.office.com/mail/deeplink/compose"
        + "?to=it.support@inspirededu.com"
        + "&subject=" + encodeURIComponent(subject)
        + "&body=" + encodeURIComponent(body);

    window.open(link, "_blank");
}
</script>

</body>
</html>
